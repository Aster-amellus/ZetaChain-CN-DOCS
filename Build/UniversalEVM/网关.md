|标题|描述|
|:-|:-|
|网关|与通用应用交互的统一入口。|

# Gateway

**Gateway 是一个接口层**，作为连接链上合约与 ZetaChain 上通用应用之间的统一入口。它让多链交互变得像单链操作一样自然，所有跨链调用与资产流转都从这里开始。

<iframe
  style={{ border: "1px solid rgba(0,0,0,.1)", marginTop: "2rem", borderRadius: "0.5rem" }}
  width="900"
  height="450"
  src="https://embed.figma.com/design/mYXNTORUuvGVaQ01SF7h9Y/Gateway-for-Universal-Apps?node-id=0-1&embed-host=share&footer=false"
  allowfullscreen
></iframe>

## Connected Chains 上的 Gateway

在已连接的外部链（如 Ethereum、Solana、Bitcoin）上，Gateway 负责接收来自这些链的跨链交易请求，包括智能合约调用与代币转入，将它们路由至 ZetaChain 上对应的通用应用。

Gateway 的具体实现形式，取决于目标链的技术架构：

* **EVM 链**：以智能合约的形式存在；
* **Solana**：以链上程序的形式实现；
* **Bitcoin**：以 TSS MPC 网关地址的形式存在，由观察者-签名者验证节点网络共同管理。

每条链上仅有一个 Gateway。同一个 Gateway 负责与所有通用应用进行交互，确保多应用共享同一入口。

### Gateway 在连接链上的功能包括：

* 将原生 Gas 代币存入 ZetaChain 上的通用应用或账户；
* 将受支持的 ERC-20 代币（包括 ZETA）存入通用应用或账户；
* 存入原生 Gas 代币的同时，向通用应用发起合约调用（可携带任意数据）；
* 存入受支持的 ERC-20 代币的同时，向通用应用发起合约调用（可携带任意数据）；
* 仅执行跨链合约调用（携带任意数据）。

[这些功能](https://www.zetachain.com/docs/developers/chains/functionality)会因连接链的特性而有所不同。例如，来自 Bitcoin 的存入操作仅支持原生资产 BTC，而来自 Solana 的存入则可使用 SOL，未来还将支持 SPL Token。

当前，每次操作仅支持存入一种资产。协议后续更新中，将加入多资产存入支持。

了解更多不同链上的 Gateway 功能：[EVM](https://www.zetachain.com/docs/developers/chains/evm)、[Solana](https://www.zetachain.com/docs/developers/chains/solana)、[Bitcoin](https://www.zetachain.com/docs/developers/chains/bitcoin)

## ZetaChain 上的 Gateway

ZetaChain 上的 Gateway 负责处理向外的跨链操作，包括从通用应用中发起调用或提取资产到外部链上的合约。

### Gateway 在 ZetaChain 上的功能包括：

* 将 ZRC-20 代币提取为目标链上的原生 Gas 代币或 ERC-20 代币;
* 将 ZETA 代币提取至连接链;
* 在提取代币的同时，对目标链合约发起调用;
* 仅执行跨链合约调用（不含代币提取）.

目前，每次操作仅支持提取一种资产。未来版本将支持多资产提取功能。

了解更多 [ZetaChain Gateway](https://www.zetachain.com/docs/developers/chains/zetachain)

## 回退处理机制

Gateway 在跨链操作中内置灵活的回退与退款机制，用于应对目标链执行失败的情况。如果跨链调用在目标链上失败，Gateway 可在源链上调用指定合约发起退款，或直接将退款发送至外部账户，无需触发任何合约调用。这种设计确保了跨链交互的安全性与可恢复性，让开发者能够更从容地构建复杂的多链逻辑。